// Error propagates but cleanup still runs
fn work() {
    defer { print("cleanup ran") }
    panic("oops")
}

work() | handle {
    panic msg { print("error: {msg}") }
}
