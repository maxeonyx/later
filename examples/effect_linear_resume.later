# Handler resumes: linear values stay valid

effect log(msg: String): ()

fn work() {
    let file = open("test.txt")
    log("about to close")
    file | close
    print("file closed")
}

handle log(msg) { print("log: {msg}") }
work()
